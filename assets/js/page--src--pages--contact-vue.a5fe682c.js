(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{w981:function(e,t,a){"use strict";a.r(t);var s=a("vDqi"),i=a.n(s);const o={type:"",message:""};var r={name:"ContactPage",metaInfo:{title:"Contact Page"},data:()=>({contactForm:{name:"",email:"",phone:"",message:""},rules:{name:[{required:!0,message:"name field is required"}],email:[{validate:e=>/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e),message:"email is invalid"}],phone:[{required:!0,message:"name field is required"},{validate:e=>/^1[3-9]\d{9}$/.test(e),message:"phone is invalid"}],message:[{required:!0,message:"message field is required"}]},validateState:{},isRequesting:!1,submitMessage:o}),methods:{onSubmit(){let e=this;e.restValidateState(),e.validateForm(e.contactForm).then(t=>{t&&(e.isRequesting=!0,i()({method:"POST",url:GRIDSOME_API_URL+"/api/contacts",data:{data:e.contactForm},transformResponse:[function(t){const a=JSON.parse(t);return a.error&&(e.submitMessage={type:"error",message:a.error&&a.error.message}),t}]}).then(t=>{t.data&&(window.alert("留言成功！我们将尽快与您取得联系。感谢您对小站的支持！"),e.submitMessage={type:"success",message:"留言成功！我们将尽快与您取得联系。感谢您对小站的支持！"},setTimeout(()=>{e.restValidateState(),e.restDefaultSubmitMessage()},3500),e.resetForm())}).catch(e=>{console.log(e)}).finally(()=>{e.isRequesting=!1}))})},resetForm(){this.contactForm={name:"",email:"",phone:"",message:""}},validateForm(e){let t=!0;for(const a in this.rules){this.rules[a].forEach(s=>{!s.required||""!==e[a]&&e[a]||(this.validateState[a]=s.message,t=!1),s.validate&&!s.validate(e[a])&&(this.validateState[a]=s.message,t=!1)})}return Promise.resolve(t)},restValidateState(){this.validateState={}},restDefaultSubmitMessage(){this.submitMessage=o}}},n=a("KHd+"),l=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("layout",[t("header",{staticClass:"masthead",staticStyle:{"background-image":"url('/img/contact-bg.jpg')"}},[t("div",{staticClass:"container position-relative px-4 px-lg-5"},[t("div",{staticClass:"row gx-4 gx-lg-5 justify-content-center"},[t("div",{staticClass:"col-md-10 col-lg-8 col-xl-7"},[t("div",{staticClass:"page-heading"},[t("h1",[e._v("Contact Me")]),t("span",{staticClass:"subheading"},[e._v("Have questions? I have answers.")])])])])])]),t("main",{staticClass:"mb-4"},[t("div",{staticClass:"container px-4 px-lg-5"},[t("div",{staticClass:"row gx-4 gx-lg-5 justify-content-center"},[t("div",{staticClass:"col-md-10 col-lg-8 col-xl-7"},[t("p",[e._v("\n            Want to get in touch? Fill out the form below to send me a message\n            and I will get back to you as soon as possible!\n          ")]),t("div",{staticClass:"my-5"},[t("form",{attrs:{id:"contactForm","data-sb-form-api-token":"API_TOKEN"}},[t("div",{staticClass:"form-floating"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.name,expression:"contactForm.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"Enter your name...","data-sb-validations":"required"},domProps:{value:e.contactForm.name},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"name",t.target.value)}}}),t("label",{attrs:{for:"name"}},[e._v("Name")]),t("div",{staticClass:"invalid-feedback",style:{display:e.validateState.name?"block":""},attrs:{"data-sb-feedback":"name:required"}},[e._v("\n                  "+e._s(e.validateState.name)+"\n                ")])]),t("div",{staticClass:"form-floating"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.email,expression:"contactForm.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Enter your email...","data-sb-validations":"required,email"},domProps:{value:e.contactForm.email},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"email",t.target.value)}}}),t("label",{attrs:{for:"email"}},[e._v("Email address")]),t("div",{staticClass:"invalid-feedback",style:{display:e.validateState.email?"block":""},attrs:{"data-sb-feedback":"email:required"}},[e._v("\n                  "+e._s(e.validateState.email)+"\n                ")])]),t("div",{staticClass:"form-floating"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.phone,expression:"contactForm.phone"}],staticClass:"form-control",attrs:{id:"phone",type:"tel",placeholder:"Enter your phone number...","data-sb-validations":"required"},domProps:{value:e.contactForm.phone},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"phone",t.target.value)}}}),t("label",{attrs:{for:"phone"}},[e._v("Phone Number")]),t("div",{staticClass:"invalid-feedback",style:{display:e.validateState.phone?"block":""},attrs:{"data-sb-feedback":"phone:required"}},[e._v("\n                  "+e._s(e.validateState.phone)+"\n                ")])]),t("div",{staticClass:"form-floating"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.contactForm.message,expression:"contactForm.message"}],staticClass:"form-control",staticStyle:{height:"10rem"},attrs:{id:"message",placeholder:"Enter your message here...","data-sb-validations":"required"},domProps:{value:e.contactForm.message},on:{input:function(t){t.target.composing||e.$set(e.contactForm,"message",t.target.value)}}}),t("label",{attrs:{for:"message"}},[e._v("Message")]),t("div",{staticClass:"invalid-feedback",style:{display:e.validateState.message?"block":""},attrs:{"data-sb-feedback":"message:required"}},[e._v("\n                  "+e._s(e.validateState.message)+"\n                ")])]),t("br"),t("div",{class:{"d-none":"success"!==e.submitMessage.type},attrs:{id:"submitSuccessMessage"}},[t("div",{staticClass:"text-center mb-3"},[t("div",{staticClass:"fw-bolder"},[e._v("Form submission successful!")]),e._v("\n                  To activate this form, sign up at\n                  "),t("br"),t("a",{attrs:{href:"http://baidu.com/"}},[e._v("http://baidu.com/")])])]),t("div",{class:{"d-none":"error"!==e.submitMessage.type},attrs:{id:"submitErrorMessage"}},["error"===e.submitMessage.type?t("div",{staticClass:"text-center text-danger mb-3"},[e._v("\n                  "+e._s(e.submitMessage.message||"Error sending message!")+"\n                ")]):e._e()]),t("button",{staticClass:"btn btn-primary text-uppercase",attrs:{disabled:e.isRequesting,id:"submitButton",type:"submit"},on:{click:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[e._v("\n                Send\n              ")])])])])])])])])}),[],!1,null,null,null);t.default=l.exports}}]);